
    // Generic Confirmation State
    const [confirmationState, setConfirmationState] = useState<{
        isOpen: boolean;
        title: string;
        message: string;
        onConfirm: () => void;
        confirmText?: string;
        confirmStyle?: 'danger' | 'primary' | 'warning' | 'purple';
    }>({
        isOpen: false,
        title: "",
        message: "",
        onConfirm: () => { }
    });

    // Delete Confirmation State
    const [deleteConfirm, setDeleteConfirm] = useState<{ open: boolean, pkg: VarPackage | null, pkgs?: VarPackage[], count?: number }>({ open: false, pkg: null });

    // Collision Confirmation State
    const [collisionData, setCollisionData] = useState<{ open: boolean, pkg: VarPackage | null }>({ open: false, pkg: null });

    // Install Modal State
    const [installModal, setInstallModal] = useState<{ open: boolean, pkgs: VarPackage[] }>({ open: false, pkgs: [] });

    // Persist active tab for RightSidebar
    const [activeRightSidebarTab, setActiveRightSidebarTab] = useState<'details' | 'contents'>(() => {
        return (localStorage.getItem('rightSidebarTab') as 'details' | 'contents') || 'details';
    });

    const handleRightTabChange = (tab: 'details' | 'contents') => {
        setActiveRightSidebarTab(tab);
        localStorage.setItem('rightSidebarTab', tab);
    };
